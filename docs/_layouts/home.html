---
layout: default
---

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}

  <div>
    <label for="yearSelector">Select Year: </label>
    <select name="yearSelector" id="yearSelector" onchange="filter()">
      <option value="all">All</option>
      <option value="2021" selected>2021</option>
      <option value="2020">2020</option>
    </select>
  </div>
  
  <div>
    <input type="checkbox" id="onlyWinners" name="onlyWinner" onchange="filter()">
    <label for="onlyWinners">Show Only Winners</label>
  </div>

  <br />
  
  {% if site.paginate %}
    {% assign posts = paginator.posts %}
  {% else %}
    {% assign posts = site.posts %}
  {% endif %}


  {%- if posts.size > 0 -%}
    {%- if page.list_title -%}
      <h2 class="post-list-heading">{{ page.list_title }}</h2>
    {%- endif -%}
    <ul class="post-list">
      {%- assign date_format = site.minima.date_format | default: "%b %Y" -%}
      {%- for post in posts -%}
        <li class="post">
          <div class="year-meta" data-year={{ post.date | date: "%Y" }} style="display: none"></div>
          {% if post.categories contains "Winner" %}
            <div class="winner-meta" data-win="yes" style="display: none"></div>
          {%- else -%}
            <div class="winner-meta" data-win="no" style="display: none"></div>
          {%- endif -%}

          <span class="post-meta">{{ post.author }} • {{ post.date | date: date_format }}</span>
          <h3>
            <a class="post-link" href="{{ post.url | relative_url }}">
              {{ post.title | escape }}
            </a>
          </h3>
          {%- if site.show_excerpts -%}
            {{ post.excerpt }}
          {%- endif -%}
        </li>
      {%- endfor -%}
    </ul>

    {% if site.paginate %}
      <div class="pager">
        <ul class="pagination">
        {%- if paginator.previous_page %}
          <li><a href="{{ paginator.previous_page_path | relative_url }}" class="previous-page">{{ paginator.previous_page }}</a></li>
        {%- else %}
          <li><div class="pager-edge">•</div></li>
        {%- endif %}
          <li><div class="current-page">{{ paginator.page }}</div></li>
        {%- if paginator.next_page %}
          <li><a href="{{ paginator.next_page_path | relative_url }}" class="next-page">{{ paginator.next_page }}</a></li>
        {%- else %}
          <li><div class="pager-edge">•</div></li>
        {%- endif %}
        </ul>
      </div>
    {%- endif %}

  {%- endif -%}

  <script type="text/javascript">
    function filter() {
      // Get if showing only winners
      var winnerSelector = document.getElementById("onlyWinners")
      var showOnlyWinners = winnerSelector.checked

      // Get the Year selected
      var selector = document.getElementById("yearSelector")
      var year = selector.value;

      // Show/Hide appropriate Posts
      var posts = document.getElementsByClassName("post")

      for (var i = 0; i < posts.length; ++i) {
        var post = posts[i]

        var currentYearMeta = post.getElementsByClassName('year-meta')[0]
        var currentYear = currentYearMeta.getAttribute("data-year")

        var isWinnerMeta = post.getElementsByClassName('winner-meta')[0]
        var isWinner = isWinnerMeta.getAttribute("data-win")

        if (currentYear === year || year === "all") {
            if (isWinner === "no" && showOnlyWinners) {
              post.style.display = "none"
            }
            else {
              post.style.display = ""
            }
          }
          else {
            post.style.display = "none"
          }
      }
    }
    window.onload = filter

    </script>
</div>